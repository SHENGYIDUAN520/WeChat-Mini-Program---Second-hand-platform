<view class="profile-container">
  <!-- ç”¨æˆ·ä¿¡æ¯åŒºåŸŸ -->
  <view class="user-info-section">
    <view class="user-info" wx:if="{{isLogin}}">
      <image class="avatar" src="{{userInfo.avatarUrl || '/images/default-avatar.png'}}"></image>
      <view class="info">
        <view class="nickname">{{userInfo.nickName || 'å¾®ä¿¡ç”¨æˆ·'}}</view>
        <view class="campus" wx:if="{{userInfo.campus}}">{{userInfo.campus}}</view>
      </view>
      <view class="edit-profile" bindtap="navigateTo" data-url="/pages/profile-edit/profile-edit">
        <text class="edit-icon">âœï¸</text>
      </view>
    </view>
    <view class="user-info" wx:else>
      <image class="avatar" src="/images/default-avatar.png"></image>
      <view class="info">
        <view class="nickname">æœªç™»å½•</view>
        <view class="login-btn" bindtap="login">ç‚¹å‡»ç™»å½•</view>
      </view>
    </view>
  </view>

  <!-- ç”¨æˆ·è¯„åˆ†ä¿¡æ¯ -->
  <view class="rating-info" wx:if="{{isLogin}}">
    <view class="rating-item" bindtap="viewReviews" data-type="buyer">
      <view class="rating-title">ä¹°å®¶è¯„åˆ†</view>
      <view class="rating-stars">
        <text class="star {{userInfo.buyerRating >= 1 ? 'active' : ''}}">â˜…</text>
        <text class="star {{userInfo.buyerRating >= 2 ? 'active' : ''}}">â˜…</text>
        <text class="star {{userInfo.buyerRating >= 3 ? 'active' : ''}}">â˜…</text>
        <text class="star {{userInfo.buyerRating >= 4 ? 'active' : ''}}">â˜…</text>
        <text class="star {{userInfo.buyerRating >= 5 ? 'active' : ''}}">â˜…</text>
        <text class="rating-value">{{userInfo.buyerRating ? userInfo.buyerRating.toFixed(1) : 'æš‚æ— '}} ({{userInfo.buyerReviewCount || 0}}æ¡è¯„ä»·)</text>
      </view>
      <view class="view-more">æŸ¥çœ‹è¯¦æƒ… ></view>
    </view>
    <view class="rating-item" bindtap="viewReviews" data-type="seller">
      <view class="rating-title">å–å®¶è¯„åˆ†</view>
      <view class="rating-stars">
        <text class="star {{userInfo.sellerRating >= 1 ? 'active' : ''}}">â˜…</text>
        <text class="star {{userInfo.sellerRating >= 2 ? 'active' : ''}}">â˜…</text>
        <text class="star {{userInfo.sellerRating >= 3 ? 'active' : ''}}">â˜…</text>
        <text class="star {{userInfo.sellerRating >= 4 ? 'active' : ''}}">â˜…</text>
        <text class="star {{userInfo.sellerRating >= 5 ? 'active' : ''}}">â˜…</text>
        <text class="rating-value">{{userInfo.sellerRating ? userInfo.sellerRating.toFixed(1) : 'æš‚æ— '}} ({{userInfo.sellerReviewCount || 0}}æ¡è¯„ä»·)</text>
      </view>
      <view class="view-more">æŸ¥çœ‹è¯¦æƒ… ></view>
    </view>
  </view>

  <!-- åŠŸèƒ½èœå• -->
  <view class="menu-section">
    <view class="menu-title">æˆ‘çš„äº¤æ˜“</view>
    <view class="menu-list">
      <navigator url="/pages/my-goods/my-goods" class="menu-item">
        <view class="menu-icon">
          <text class="iconfont icon-goods">ğŸ“¦</text>
        </view>
        <view class="menu-name">æˆ‘çš„å•†å“</view>
        <view class="menu-arrow">
          <text class="iconfont icon-right">></text>
        </view>
      </navigator>
      <navigator url="/pages/my-orders/my-orders" class="menu-item">
        <view class="menu-icon">
          <text class="iconfont icon-order">ğŸ“</text>
        </view>
        <view class="menu-name">æˆ‘çš„è®¢å•</view>
        <view class="menu-arrow">
          <text class="iconfont icon-right">></text>
        </view>
      </navigator>
      <navigator url="/pages/favorites/favorites" class="menu-item">
        <view class="menu-icon">
          <text class="iconfont icon-favorite">â¤ï¸</text>
        </view>
        <view class="menu-name">æˆ‘çš„æ”¶è—</view>
        <view class="menu-arrow">
          <text class="iconfont icon-right">></text>
        </view>
      </navigator>
    </view>
  </view>

  <view class="menu-section">
    <view class="menu-title">æ¶ˆæ¯ä¸­å¿ƒ</view>
    <view class="menu-list">
      <view class="menu-item" bindtap="navigateTo" data-url="/pages/message-list/message-list">
        <view class="menu-icon">
          <text class="iconfont icon-message">ğŸ’¬</text>
        </view>
        <view class="menu-name">æˆ‘çš„æ¶ˆæ¯</view>
        <view class="menu-badge" wx:if="{{unreadCount > 0}}">{{unreadCount}}</view>
        <view class="menu-arrow">
          <text class="iconfont icon-right">></text>
        </view>
      </view>
    </view>
  </view>

  <view class="menu-section">
    <view class="menu-title">è®¾ç½®</view>
    <view class="menu-list">
      <view class="menu-item" bindtap="navigateTo" data-url="/pages/settings/settings">
        <view class="menu-icon">
          <text class="iconfont icon-settings">âš™ï¸</text>
        </view>
        <view class="menu-name">ä¸ªäººè®¾ç½®</view>
        <view class="menu-arrow">
          <text class="iconfont icon-right">></text>
        </view>
      </view>
      
      <view class="menu-item" bindtap="navigateTo" data-url="/pages/feedback/feedback">
        <view class="menu-icon">
          <text class="iconfont icon-feedback">ğŸ“¢</text>
        </view>
        <view class="menu-name">æ„è§åé¦ˆ</view>
        <view class="menu-arrow">
          <text class="iconfont icon-right">></text>
        </view>
      </view>
      
      <view class="menu-item" bindtap="navigateTo" data-url="/pages/about/about">
        <view class="menu-icon">
          <text class="iconfont icon-info">â„¹ï¸</text>
        </view>
        <view class="menu-name">å…³äºæˆ‘ä»¬</view>
        <view class="menu-arrow">
          <text class="iconfont icon-right">></text>
        </view>
      </view>
      
      <!-- ç®¡ç†å‘˜å…¥å£ -->
      <view class="menu-item" bindtap="navigateTo" data-url="/pages/admin/admin">
        <view class="menu-icon">
          <text class="iconfont icon-admin">ğŸ‘‘</text>
        </view>
        <view class="menu-name">ç®¡ç†å‘˜æ§åˆ¶å°</view>
        <view class="menu-arrow">
          <text class="iconfont icon-right">></text>
        </view>
      </view>
    </view>
  </view>

  <!-- é€€å‡ºç™»å½• -->
  <view class="logout-btn" bindtap="logout" wx:if="{{isLogin}}">é€€å‡ºç™»å½•</view>
</view> 
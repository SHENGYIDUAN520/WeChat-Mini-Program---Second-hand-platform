<!-- pages/profile-edit/profile-edit.wxml -->
<view class="profile-edit-container">
  <!-- é¡¶éƒ¨å¯¼èˆªæ  -->
  <view class="nav-bar">
    <view class="nav-back" bindtap="navigateBack">
      <text class="iconfont icon-back">â†</text>
    </view>
    <view class="nav-title">ç¼–è¾‘èµ„æ–™</view>
    <view class="nav-right"></view>
  </view>

  <!-- å¤´åƒç¼–è¾‘ -->
  <view class="avatar-section">
    <view class="avatar-wrapper">
      <image class="avatar" src="{{userInfo.avatarUrl || '/images/default-avatar.png'}}"></image>
      <view class="avatar-edit-icon" bindtap="chooseAvatar">
        <text class="iconfont icon-camera">ğŸ“·</text>
      </view>
    </view>
    <view class="avatar-tip">ç‚¹å‡»æ›´æ¢å¤´åƒ</view>
  </view>

  <!-- è¡¨å•åŒºåŸŸ -->
  <view class="form-section">
    <view class="form-group">
      <view class="form-item">
        <view class="form-label">æ˜µç§°</view>
        <input class="form-input" value="{{userInfo.nickName}}" placeholder="è¯·è¾“å…¥æ˜µç§°" bindinput="inputNickname" maxlength="20" />
      </view>
      <view class="form-item">
        <view class="form-label">æ€§åˆ«</view>
        <view class="form-radio-group">
          <view class="form-radio {{userInfo.gender == 1 ? 'active' : ''}}" bindtap="selectGender" data-gender="1">
            <text class="radio-icon">{{userInfo.gender == 1 ? 'â—' : 'â—‹'}}</text>
            <text class="radio-text">ç”·</text>
          </view>
          <view class="form-radio {{userInfo.gender == 2 ? 'active' : ''}}" bindtap="selectGender" data-gender="2">
            <text class="radio-icon">{{userInfo.gender == 2 ? 'â—' : 'â—‹'}}</text>
            <text class="radio-text">å¥³</text>
          </view>
        </view>
      </view>
      <view class="form-item">
        <view class="form-label">å­¦æ ¡</view>
        <picker mode="selector" range="{{campusList}}" value="{{campusIndex}}" bindchange="selectCampus">
          <view class="form-picker">
            <text>{{campusList[campusIndex] || 'è¯·é€‰æ‹©å­¦æ ¡'}}</text>
            <text class="picker-arrow">></text>
          </view>
        </picker>
      </view>
      <view class="form-item">
        <view class="form-label">ä¸ªæ€§ç­¾å</view>
        <textarea class="form-textarea" value="{{userInfo.signature}}" placeholder="ä»‹ç»ä¸€ä¸‹è‡ªå·±å§~" bindinput="inputSignature" maxlength="100"></textarea>
        <view class="textarea-counter">{{signatureLength}}/100</view>
      </view>
    </view>
  </view>

  <!-- ä¿å­˜æŒ‰é’® -->
  <view class="save-btn" bindtap="saveProfile">ä¿å­˜</view>
</view> 